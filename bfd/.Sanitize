# Sanitize.in for devo.
# $Id$
#

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:

echo Sanitizing `pwd`.

# All files listed between the "Things-to-keep:" line and the
# "Files-to-sed:" line will be kept.  All other files will be removed.
# Directories listed in this section will have their own Sanitize
# called.  Directories not listed will be removed in their entirety
# with rm -rf.

Things-to-keep:
COPYING
doc
ChangeLog
Makefile.in
TODO
VERSION
aout32.c
aout64.c
aoutf1.h
aoutx.h
archive.c
archures.c
bfd-in.h
bfd.c
bout.c
cache.c
ctor.c
coff-a29k.c
coff-i386.c
coff-i960.c
coff-m68k.c
coff-m88k.c
coff-mips.c
coff-rs6000.c
coffcode.h
config
configure.in
core.c
demo64.c
elf.c
filemode.c
format.c
host-aout.c
hosts
i386aout.c
ieee.c
libaout.h
libbfd-in.h
cpu-a29k.c
cpu-i386.c
cpu-m68k.c
cpu-mips.c
cpu-vax.c
cpu-h8300.c
cpu-i960.c
cpu-m88k.c
cpu-rs6000.c
init.c
cpu-sparc.c
libbfd.c
libbfd.h
libcoff-in.h
libcoff.h
libieee.h
liboasys.h
newsos3.c
oasys.c
opncls.c
reloc.c
section.c
srec.c
sunos.c
syms.c
targets.c
trad-core.c
trad-core.h

Do-last:

if ( echo $* | grep keep\-v9 > /dev/null ) ; then
	echo Keeping v9 in aoutx.h
else
	echo Sanitizing v9 in aoutx.h
	rm -f new
	while grep -s start-sanitize-v9 aoutx.h ; do
		sed -e '/start-sanitize-v9/,/end-sanitize-v9/d' <aoutx.h >new
		if [ -n "${safe}" ] ; then
			mv aoutx.h .Recover
		else
			rm aoutx.h
		fi
		mv new aoutx.h
	done
fi

echo Done in `pwd`.

#
#
# $Log$
# Revision 1.28  1991/11/04 00:37:06  steve
# Added ctor.c (I remembered this time)
#
# Revision 1.27  1991/10/25  10:17:41  gnu
# * Rename COFF-related files in `coff-ARCH.c' form.
# coff-a29k.c, coff-i386.c, coff-i960.c, coff-m68k.c, coff-m88k.c,
# coff-mips.c, coff-rs6000.c to be exact.
#
# Revision 1.26  1991/10/25  07:16:59  gnu
# RS/6000 support
#
# Revision 1.25  1991/10/15  07:29:13  bothner
# Add hosts directory.
#
# Revision 1.24  1991/10/08  22:31:51  gnu
# Add i386aout.c
#
# Revision 1.23  1991/10/05  06:16:44  gnu
# howto.c, configure, config.sub gone.
#
# Revision 1.22  1991/10/03  22:23:56  gnu
# Add elf.c
#
# Revision 1.21  1991/10/01  03:55:34  steve
# Insert the incidentals and things I forgot to ci last time, same log message:
#
# Mon Sep 30 15:13:46 1991  Steve Chamberlain  (steve at cygnus.com)
#
# 	* cpu-a29k.c, cpu-i386.c, cpu-m68k.c, cpu-mips.c, cpu-vax.c,
# 	cpu-h8300.c, cpu-i960.c, cpu-m88k.c, cpu-sparc.c: added. These
# 	files will eventually contain processor specific bits for bfd,
# 	like strange relocation information and dis/assembly.  So far only
# 	the H8 has been even partially done.  This work also ties in with
# 	the change in handling architectures.
#
# 	* amdcoff.c: (a29k_reloc) fix error message.
#
# 	* aout-f1.h: (choose_reloc_size) now calls bfd_get_arch to
# 	discover the architecture of the bfd. (sunos4_callback) calls the
# 	function bfd_set_arch_mach rather than stuffing stuff directly
# 	into the bfd. (sunos4_write_object_contents), changed names of
# 	accessor functions.
#
# 	* aoutx.h: (set_arch_mach) now calls bfd_default_set_arch_mach to
# 	setup the environment.
#
# 	* archive.c: (bfd_slurp_coff_armap) coff archives always have the
# 	headers in big endian format, regardless of the endianess of the
# 	host or target.
#
# 	* archures.c: totally changed. Now an architecture is represented
# 	with a pointer to an info structure rather than an enumerated type
# 	and a long. The old info is available as two elements in the
# 	structure.  Future enhancements to architecure support will
# 	involve pointers to methods being placed into the info structure.
#
# 	* bfd.c: changed the definition of the bfd structure for the new
# 	architecture stuff.
#
# 	* bout.c: (b_out_set_arch_mach) changed to use the new
# 	architecture mechanism.
#
# 	* coffcode.h: (coff_set_arch_mach, coff_set_flags) changed to use
# 	the new architecture mechanism.
#
# 	* configure.in: added h8 stuff.
#
# 	* ieee.c: too many changes to note.  Now ieee files written with
# 	bfd gas and ld can be read by gld and ieee only linkers and
# 	simulators.
#
# 	* libbfd.c, libbfd.h: changed prototype of bfd_write.
#
# 	* newsos3.c: (newos3_callback) now calls bfd_set_arch_mach rather
# 	than fixing the structure directly.
#
# 	* oasys.c: (oasys_object_p) now calls bfd_default_set_arch_mach rather
# 	than fixing the structure directly.
#
# 	* opncls.c: (new_bfd) makes sure that bfd_init has been called
# 	before opening a bfd.
#
# 	* srec.c: (srec_set_arch_mach) now calls bfd_default_set_arch_mach
# 	rather than fixing the structure directly.
#
# 	* targets.c: (target_vector) now by defining SELECT_VECS (perhaps
# 	in the t/hmake file) a user can select which backends they want
# 	linked with bfd without changing the source.
#
# 	* init.c: new, looks after initializing modules.
#
# 	* howto.c: for future use, will allow an application to work out
# 	what cookie to use as a handle on a relcoatio howto.
#
# Revision 1.20  1991/09/04  03:59:15  rich
# Added "recover"'ability.
#
# Revision 1.19  1991/09/03  22:21:30  rich
# "recover" aoutx.h
#
# Revision 1.18  1991/08/29  00:35:06  gnu
# paperwork handled for AMD Coff.
#
# Revision 1.17  1991/08/22  20:23:12  steve
# *** empty log message ***
#
# Revision 1.16  1991/08/22  07:31:21  gnu
# New config.sub
#
# Revision 1.15  1991/08/22  07:20:49  gnu
# Improve our Sanity.
#
# Revision 1.14  1991/08/17  00:17:00  steve
# Documentation
#
# Revision 1.13  1991/08/01  14:37:51  steve
# *** empty log message ***
#
# Revision 1.12  1991/08/01  05:33:39  gnu
# Forgot one more place to remove amdcoff.c reference (sigh).
#
# Revision 1.11  1991/08/01  01:27:44  gnu
# Delete CVS.adm from the release!
#
# Revision 1.10  1991/07/31  22:28:30  gnu
# Remove archures.h
#
# Revision 1.9  1991/07/31  17:37:00  gnu
# Remove amdcoff.c (and its name from Makefile.in) by default, because
# its copyright is not yet assigned to FSF.
#
# Revision 1.8  1991/07/31  07:54:31  gnu
# Better sanitize aoutx.h too!
#
# Revision 1.7  1991/07/16  00:39:03  steve
# *** empty log message ***
#
# Revision 1.6  1991/07/16  00:35:56  steve
# *** empty log message ***
#
# Revision 1.5  1991/07/15  23:32:40  steve
# *** empty log message ***
#
# Revision 1.4  1991/07/04  16:52:54  steve
# Now full of documentation. Yum Yum.
#
# Revision 1.3  1991/05/31  11:22:12  gnu
# Remove coff-code.h and liba.out.h, add libaout.h.
#
# Revision 1.2  1991/05/29  02:40:08  gnu
# Fix up .Sanitize file, remove files that are not referenced.
#
# Revision 1.1  1991/05/23  21:14:00  rich
# Initial revision
#
#
#

# End of file.
