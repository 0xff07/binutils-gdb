# Sanitize.in for devo.
# $Id$
#

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:

echo Sanitizing `pwd`.

# All files listed between the "Things-to-keep:" line and the
# "Files-to-sed:" line will be kept.  All other files will be removed.
# Directories listed in this section will have their own Sanitize
# called.  Directories not listed will be removed in their entirety
# with rm -rf.

Things-to-keep:
COPYING
CVS.adm
ChangeLog
Makefile.in
TODO
VERSION
amdcoff.c
aout32.c
aout64.c
aoutf1.h
aoutx.h
archive.c
archures.c
archures.h
bfd.c
bfd.texinfo
bout.c
cache.c
coffcode.h
config
configure
configure.in
core.c
demo64.c
ecoff.c
filemode.c
format.c
host-aout.c
i386coff.c
icoff.c
ieee.c
libaout.h
libbfd.c
libbfd.h
libcoff.h
libieee.h
liboasys.h
m68kcoff.c
m88k-bcs.c
newsos3.c
oasys.c
opncls.c
reloc.c
section.c
srec.c
sunos.c
syms.c
targets.c
trad-core.c
trad-core.h

Do-last:

if ( echo $* | grep keep\-v9 > /dev/null ) ; then
	echo Keeping v9 in aoutx.h
else
	echo Sanitizing v9 in aoutx.h
	rm -f new
	while grep -s start-sanitize-v9 aoutx.h ; do
		sed -e '/start-sanitize-v9/,/end-sanitize-v9/d' <aoutx.h >new
		rm aoutx.h
		mv new aoutx.h
	done
fi

if ( echo $* | grep keep\-29k > /dev/null ) ; then
	echo Keeping 29k in amdcoff.c and Makefile.in
else
	echo Sanitizing 29k in amdcoff.c and Makefile.in
	rm -f amdcoff.c
	rm -f new
	sed -e 's/ amdcoff.[co] / /g' <Makefile.in >new
	mv new Makefile.in
fi

echo Done in `pwd`.

#
#
# $Log$
# Revision 1.9  1991/07/31 17:37:00  gnu
# Remove amdcoff.c (and its name from Makefile.in) by default, because
# its copyright is not yet assigned to FSF.
#
# Revision 1.8  1991/07/31  07:54:31  gnu
# Better sanitize aoutx.h too!
#
# Revision 1.7  1991/07/16  00:39:03  steve
# *** empty log message ***
#
# Revision 1.6  1991/07/16  00:35:56  steve
# *** empty log message ***
#
# Revision 1.5  1991/07/15  23:32:40  steve
# *** empty log message ***
#
# Revision 1.4  1991/07/04  16:52:54  steve
# Now full of documentation. Yum Yum.
#
# Revision 1.3  1991/05/31  11:22:12  gnu
# Remove coff-code.h and liba.out.h, add libaout.h.
#
# Revision 1.2  1991/05/29  02:40:08  gnu
# Fix up .Sanitize file, remove files that are not referenced.
#
# Revision 1.1  1991/05/23  21:14:00  rich
# Initial revision
#
#
#

# End of file.
