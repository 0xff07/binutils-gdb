# This file is a shell script fragment that supplies the information
# necessary to tailor a template configure script into the configure
# script appropriate for this directory.  For more information, check
# any existing configure script.

srctrigger=ldmain.c
srcname="linker"
target_dependent=true

# per-host:

. ${srcdir}/../bfd/configure.host

# Set up to make a link between the host's include file and "sysdep.h".
files="../bfd/hosts/${my_host}.h"
links="sysdep.h"

if [ ! -f ${srcdir}/${files} ] ; then
	files=../bfd/hosts/std-host.h
	echo "[${srcname} has no specific support for host ${host} -- using std-host]"
fi

host_makefile_frag=

if [ -f ${srcdir}/config/${my_host}.mh ] ; then
	host_makefile_frag=config/${my_host}.mh
fi

# per-target:

case "${target}" in

  sparc-sun-sunos4*) 	my_target=sun4 
			;;
  m68k-sun-sunos[34]*)	my_target=sun3
			;;
  sparclite*-fujitsu-*) my_target=sun4
			;;
  sparc*-*-aout)	my_target=sun4
			;;
# start-sanitize-v9
  sparc64*)		my_target=sun4
			;;
# end-sanitize-v9
  i960-wrs-vxworks*)    my_target=i960
			;;
  i960-intel-nindy)	my_target=i960
			;;
  m68k-wrs-vxworks*)    my_target=vxworks68
			;;
  m680[01234]0-wrs-vxworks*) my_target=vxworks68
			;;
  m683?2-wrs-vxworks*)  my_target=vxworks68
			;;
  sparc*-wrs-vxworks*)  my_target=sun4
			;;
  m68k-ericsson-ose)	my_target=ose68
			;;
  m680[01234]0-ericsson-ose) my_target=ose68
			;;
  m683?2-ericsson-ose)	my_target=ose68
			;;
  *-tandem-none)	my_target=st2000 # FIXME needs better name
			;;
  i386-*-go32)		my_target=go32
			;;
  i386-*-sco*)		my_target=i386-coff
			;;
  i386-*-coff)          my_target=i386-coff
			;;
  i[34]86-*-bsd)	my_target=i386-bsd
			;;
  i386-*-aout)		my_target=i386-aout
			;;
  i386-*-sysv*)		my_target=i386-coff
			;;
  m88k-*-*)		my_target=m88k-bcs
			;;
  a29k-*-udi)		my_target=sa29200
			;;
  a29k-*-ebmon)		my_target=ebmon29k
			;;
  a29k-*-*)		my_target=coff-a29k
			;;
  h8300-*-hms)		my_target=coff-h8300
			;;
  h8300-*-xray)		my_target=ieee-h8300
			;;
  m68k-sony-*)		my_target=news
			;;
  m68k-hp-bsd*)		my_target=hp300bsd
			;;
  m68*-*-aout)		my_target=m68k
			;;
  m68*-*-coff)		my_target=m68k-coff
			;;
  m68*-*-*)		echo '***' "Unknown m68k target vendor for ld:" ${target_vendor} 1>&2
			exit 1
			;;
  mips-dec-ultrix*)	my_target=mips-lit
			;;
  mips-sgi-irix*)	my_target=mips-big
			;;
  mips-dec-bsd*)	my_target=mipsbsd
			;;
  z8k-*sim)		my_target=z8ksim
			;;
  *-*-aout)		my_target=${target_cpu}-${target_vendor} 
			;;
  *-*-coff)		my_target=${target_cpu}-${target_vendor} 
			;;
esac



target_makefile_frag=config/${my_target}.mt
