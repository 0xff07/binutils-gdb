# Sanitize.in for devo.
# $Id$
#

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:

echo Sanitizing `pwd`...

# All files listed between the "Things-to-keep:" line and the
# "Files-to-sed:" line will be kept.  All other files will be removed.
# Directories listed in this section will have their own Sanitize
# called.  Directories not listed will be removed in their entirety
# with rm -rf.

Things-to-keep:

aout_gnu.h
atof-ieee.c
atof-ns32k.c
atof-tahoe.c
atof-vax.c
coff_gnu.h
cplus-dem.c
ebmon29k.mt
h8300.mt
h8300hds.mt
ho-ansi.h
ho-decstation.h
ho-generic.h
ho-go32.h
ho-hpux.h
ho-i386.h
ho-i386aix.h
ho-rs6000.h
ho-sun3.h
ho-sun386.h
ho-sun4.h
ho-sunos.h
ho-sysv.h
ho-vax.h
ho-vms.h
i386coff.mt
m68k.mt
m68kcoff.mt
m88k-opcode.h
m88k.patches
mh-i386
mh-i386aix
mips.mt
obj-aout.c
obj-aout.h
obj-bfd-sunos.c
obj-bfd-sunos.h
obj-bout.c
obj-bout.h
obj-coff.c
obj-coff.h
obj-coffbfd.c
obj-coffbfd.h
obj-generic.c
obj-generic.h
obj-ieee.c
obj-ieee.h
obj-vms.c
obj-vms.h
rs6000.mt
sparc.mt
tc-a29k.c
tc-a29k.h
tc-generic.c
tc-generic.h
tc-h8300.c
tc-h8300.h
tc-i386.c
tc-i386.h
tc-i860.c
tc-i860.h
tc-i960.c
tc-i960.h
tc-m68851.h
tc-m68k.c
tc-m68k.h
tc-m88k.c
tc-m88k.h
tc-mips.c
tc-mips.h
tc-ns32k.c
tc-ns32k.h
tc-rs6000.c
tc-rs6000.h
tc-sparc.c
tc-sparc.h
tc-tahoe.c
tc-tahoe.h
tc-vax.c
tc-vax.h
tc-z8k.c
tc-z8k.h
te-dpx2.h
te-generic.h
te-i386aix.h
te-ic960.h
te-sco386.h
te-sun3.h
te-sysv32.h
vax-inst.h
z8k.mt



Do-last:

if ( echo $* | grep keep\-v9 > /dev/null ) ; then
	echo Keeping v9 stuff in tc-sparc.c.
else
	echo Cleaning tc-sparc.c...
	sed '/start\-sanitize/,/end-sanitize/d' < tc-sparc.c > new
	if [ -n "${safe}" ] ; then
		cp tc-sparc.c .Recover
	fi
	mv new tc-sparc.c
fi

echo Done in `pwd`.

#
#
# $Log$
# Revision 1.31  1992/12/30 20:34:14  ian
# Wed Dec 30 10:18:57 1992  Ian Lance Taylor  (ian@cygnus.com)
#
# 	* app.c, config/tc-*.c: Don't include read.h, since it is already
# 	included by as.h.
#
# 	* These are based on patches from Minh Tran-le
# 	<mtranle@paris.intellicorp.com>.
# 	* configure.in (i[34]86-ibm-aix*): Accept i486 for host.  Use
# 	obj_format coffbfd and gas_target i386coff for target.
# 	(i[34]86-*-isc*): New host (uses sysv).
# 	* config/i386aix.mt: Removed (no longer used).
# 	* config/mh-i386aix (RANLIB): Use true rather than /bin/true.
# 	(MINUS_G): Removed.
# 	(LDFLAGS): Added, defined as -shlib.
# 	* config/te-i386aix.h (REVERSE_SORT_RELOCS): Undefine.
# 	* config/te-sco386.h (LOCAL_LABEL): Don't define.
# 	(DOT_LABEL_PREFIX): Define.
# 	* expr.c (operand): If DOT_LABEL_PREFIX, use .L0\001 as a label
# 	name rather than L0\001.
# 	* read.c (s_lcomm): Make a frag in SEG_BSS rather than using
# 	local_bss_counter.
# 	* symbols.c, symbols.h (local_bss_counter): Removed.
# 	* write.c (write_object_file): bss no longer uses
# 	local_bss_counter.  Pass correct data and bss size to
# 	VMS_write_object_file.
# 	* config/obj-vms.c (VMS_write_object_file): Accept bss size as
# 	argument, rather than using local_bss_counter.
# 	* config/tc-m88k.c (s_bss): Don't use local_bss_counter.
# 	* config/tc-sparc.c (s_reserve): Don't use local_bss_counter.
# 	* config/obj-coffbfd.c (had_lineno, had_reloc): Removed.
# 	(size_section): Restored sanity check.
# 	(do_relocs_for): Base section address on s_paddr rather than
# 	computing it.  Adjust a29k R_IHIHALF special case to account for
# 	section paddr (used to require paddr to be zero).  If there are no
# 	reclos, set s_relptr to 0.  Set relocation size in object_headers.
# 	(fill_section): Always set s_vaddr here, removing
# 	ZERO_BASED_SEGMENTS case.  Force s_scnptr for bss to 0.  Don't set
# 	NOLOAD for i386 .bss, because it confuses the SVR3 native linker.
# 	Set STYP_INFO for .comment.
# 	(coff_header_append): Use object headers and H_{SET,GET}_* macros.
# 	Make aouthdr writing depend on OBJ_COFF_OMIT_OPTIONAL_HEADER.
# 	(crawl_symbols): Handle 8 character section name correctly.  Use
# 	H_{SET,GET}_* macros.
# 	(do_linenos_for): Set lineno size in object_headers.
# 	(write_object_file): Use H_{SET,GET}_* macros.  Don't bother to
# 	set s_vaddr here.  If string_byte_count remains 4, set it back to
# 	0, and only write strings out if there are some.  Call
# 	fill_section before do_relocs_for and do_linenos_for.
# 	(obj_coff_section): Handle optional quoted second argument giving
# 	section characteristics.
# 	(obj_coff_bss): Added to handle .bss.
# 	(obj_coff_ident): Added to handle .ident (puts string in .comment
# 	section).
# 	(obj_coff_lcomm): Put common symbols in .bss, not .data.
# 	(fixup_mdeps): Change to segment.  Call frag_wane after
# 	md_convert_frag.
# 	(fixup_segment): Explicitly check S_IS_COMMON before making 386
# 	adjustment (already happened only for common symbols, but this is
# 	clearer).
# 	* config/obj-coffbfd.h (OBJ_COFF_OMIT_OPTIONAL_HEADER): Define.
# 	* config/tc-i386.c (s_bss): Don't use if I386COFF.
# 	(md_pseudo_table): Ignore .optim and .noopt.
# 	(tc_coff_sizemachdep): New function.
# 	* config/tc-i386.h (REVERSE_SORT_RELOCS): Undef, for SVR3
# 	compatibility.
# 	(LOCAL_LABEL): Removed definition.
# 	(DOT_LABEL_PREFIX): Defined.
#
# Revision 1.30  1992/12/08  09:42:06  raeburn
# missed tc-tahoe files
#
# Revision 1.29  1992/12/08  09:30:28  raeburn
# updated for current list of files
#
# Revision 1.28  1992/09/11  22:02:49  sac
# Whoops, forgot this one
#
# Revision 1.27  1992/09/09  18:38:05  ian
# Wed Sep  9 11:10:24 1992  Ian Lance Taylor  (ian@cygnus.com)
#
# 	* tc-m68k.c (m68k_ip, m68k_ip_op, get_num, try_moto_index): merge
# 	 Motorola and MIT syntax; gas can now assemble either type of
# 	 file.
# 	tc-m68kmote.c, tc-m68kmote.h: removed now superfluous files.
# 	From Steve Chamberlain:
# 	m68kcoff.mt: for m68k COFF.
# 	obj-coffbfd.c: (fixup_mdeps) added
# 	 (size_section) removed bad sanity check
# 	 (fill_section) added rs_machine_dependent case
# 	 (write_object_file) call fixup_mdeps
# 	 (fixup_segment) set fx_subsy to 0.
# 	obj-coffbfd.h: define WORKING_DOT_WORD (too hard to support) and
# 	 handle m68k.
# 	tc-m68k.c, config/tc-m68k.h: added m68k COFF support and Motorala
# 	 pseudo ops.
#
# Revision 1.26  1992/08/31  00:27:23  wilson
# Keep sparc.mt.
#
# Revision 1.25  1992/08/31  00:01:22  wilson
# Resolve someone else's CVS update conflict.
#
# Revision 1.24  1992/08/25  22:12:38  sac
# Support for the Z8k
#
# Revision 1.23  1992/07/23  18:23:44  gumby
# Keep OSE support
#
# Revision 1.22  1992/05/07  00:24:39  sac
# Keep the 29k config file
#
# Revision 1.21  1992/02/27  18:52:18  sac
# Dos File renaming
#
# Revision 1.20  1992/02/26  08:54:09  tiemann
# Keep a.out.gnu.h, not a.out.h (which no longer exists).
#
# Revision 1.19  1992/02/22  00:24:13  sac
# How to compile gas on a PC
#
# Revision 1.18  1992/02/18  10:18:32  rich
# keep ChangeLog
#
# Revision 1.17  1992/02/18  10:13:57  rich
# keep the new file
#
# Revision 1.16  1992/02/17  16:02:58  rich
# record that files were removed
#
# Revision 1.15  1992/02/17  15:53:46  rich
# fighting bitrot in a major way
#
# Revision 1.14  1992/02/13  10:13:24  rich
# clean up Sanitize for gas
#
# Revision 1.13  1992/02/11  00:51:52  sac
# New files for MRI syntax assembler
#
# Revision 1.12  1991/12/12  03:34:31  sac
# renamed obj-coff-bfd to obj-coffbfd
#
# Revision 1.11  1991/11/27  22:28:57  sac
# Added obj-coff-bfd* and mt-h8300hds
#
# Revision 1.10  1991/11/26  02:16:55  sac
# obj-coff-bfd:
# 	bfd support gets deeper into gas
# *h8*
# 	fixed numerous bugs in instruction encoding
#
# Revision 1.9  1991/11/11  23:36:39  sac
# Added tc-sparc.c
#
# Revision 1.8  1991/11/06  11:53:16  sac
# Wouldn't it be nice if Sanitize ignored spaces ?
#
# Revision 1.7  1991/11/06  09:14:33  sac
# Uniq contents, since configure gets confused if the same file is in more than once.
#
# Revision 1.6  1991/11/05  21:21:12  sac
# Added a load of mt/mh files
#
# Revision 1.5  1991/10/22  03:26:06  steve
# tmake-ebmon
#
# Revision 1.4  1991/09/04  01:55:53  rich
# test & recover a better way.
#
# Revision 1.3  1991/09/02  21:26:15  rich
# "recover" tc-sparc.c
#
# Revision 1.2  1991/09/02  01:03:38  rich
# Correct a few things.
#
# Revision 1.1  1991/05/23  17:09:03  rich
# Initial revision
#
#
#

# End of file.
