# Sanitize.in for devo.
# $Id$
#

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:


# All files listed between the "Things-to-keep:" line and the
# "Files-to-sed:" line will be kept.  All other files will be removed.
# Directories listed in this section will have their own Sanitize
# called.  Directories not listed will be removed in their entirety
# with rm -rf.

Things-to-keep:

.gdbinit
CONTRIBUTORS
COPYING
ChangeLog
ChangeLog.v9
Makefile.in
NEWS
NOTES
NOTES.config
README
README-quirks
README-vms
README.coff
README.rich
app.c
as.c
as.h
atof-generic.c
bignum-copy.c
bignum.h
bit_fix.h
cond.c
config
config-gas.com
configure.bat
configure.in
debug.c
doc
ecoff.c
ecoff.h
expr.c
expr.h
flonum-copy.c
flonum-konst.c
flonum-mult.c
flonum.h
frags.c
frags.h
hash.c
hash.h
hex-value.c
input-file.c
input-file.h
input-scrub.c
link.cmd
listing.c
listing.h
make-gas.com
messages.c
obj.h
output-file.c
output-file.h
read.c
read.h
stabs.c
struc-symbol.h
subsegs.c
subsegs.h
symbols.c
symbols.h
tc.h
testsuite
write.c
write.h
xmalloc.c

Things-to-lose:

Do-last:

if ( echo $* | grep keep-v9 > /dev/null ) ; then
	if [ -n "${verbose}" ] ; then
		echo Keeping `pwd`/ChangeLog.v9.
		echo Keeping v9 code in `pwd`/configure.in.
	fi
else
	if [ -n "${verbose}" ] ; then
		echo Removing `pwd`/ChangeLog.v9
	fi
	if [ -n "${safe}" ] ; then
		mv ChangeLog.v9 .Recover
	else
		rm ChangeLog.v9
	fi
	if [ -n "${verbose}" ] ; then
		echo Cleaning v9 code from `pwd`/configure.in.
	fi
	grep -v v9 < configure.in > new
	if [ -n "${safe}" ]; then
		mv configure.in .Recover
	fi
	mv -f new configure.in
fi


#
#
# $Log$
# Revision 1.23  1993/12/03 03:06:48  raeburn
# Lots of changes for:
#  - sparc[lite]-coff as well as sparc-lynx
#  - producing coff (including debug info) under BFD_ASSEMBLER option
#  - cleanup of cpu-specific code in non-cpu-specific files
#    (especially write.c)
#  - providing common code to avoid duplication in cpu-specific files
#    (specifically, md_number_to_chars)
#  - stylistic changes & misc cleanup
#
# ================
#
# * config/tc-sparc.c (tc_gen_reloc): Make adjustment to addend be dependent on
# howto fields, not on format flavour.
#
# * struc-symbol.h (struct symbol): New fields sy_obj and sy_tc, defined as types
# OBJ_SYMFIELD_TYPE and TC_SYMFIELD_TYPE, if those macros are defined.
# * config/obj-coff.h (TC_SYMFIELD_TYPE, OBJ_SYMFIELD_TYPE): Define.
# (TARGET_SYMBOL_FIELDS, I960_SYM_FIELDS): Don't define.
# (sy_tc, sy_obj): Define so that the fields look like they used to, until all
# references get changed.
#
# * write.c (fixup_segment): Lots of variables no longer register.  Reordered
# some code for easier reading.
# * config/obj-coff.c (obj_coff_dim): dim_index no longer register.  Deleted
# superfluous return statement.
# (obj_coff_line, obj_coff_size, obj_coff_scl, obj_coff_type, obj_coff_val,
# tag_init, tag_insert): Deleted superfluous return statement.
# (align, obj_coff_section): Deleted debugging printfs.
# * config/tc-i386.c (md_assemble): Discard some register decls.  Use assignment
# rather than memcpy to copy template.
# (op_hash, reg_hash, prefix_hash): Default C initialization of statics is
# sufficient.
# * config/tc-sparc.c (print_insn): Array Reloc is now const, and points to
# const.
#
# * config/obj-coff.h (TARGET_FORMAT): Only use coff-sparc-lynx if TE_LYNX; use
# coff-sparc otherwise.
# [USE_NATIVE_HEADERS]: Delete this code; it isn't used.
#
# * write.c (fixup_segment): Call TC_VALIDATE_FIX, if defined, before processing
# a fixup.  Call TC_ADJUST_RELOC_COUNT just before returning.  Remove some
# i960-coff-specific code.
# (TC_ADJUST_RELOC_COUNT): Default to doing nothing.
# * config/tc-i960.h (TC_ADJUST_RELOC_COUNT) [OBJ_COFF]: Define.
# (i960_validate_fix): Declare.
# (TC_VALIDATE_FIX): Define.
# * config/tc-i960.c (i960_validate_fix): New function.
#
# * write.c (number_to_chars_littleendian): New function.  Write out bytes in
# little endian order, doing size and range checking.
# (number_to_chars_bigendian): New function, similar.
# * write.h: Declare them.
# * config/tc-*.c (md_number_to_chars): Use them.
# * config/tc-vax.c (md_apply_fix): Ditto.
# * config/tc-i386.c (md_apply_fix): Ditto.
#
# * config/obj-coff.c: Rearranged code for handling line number data.
# (line_fsym): Renamed from function_lineoff in BFD_ASSEMBLER case, since the
# usage is different from non-BFD_ASSEMBLER case.
# (in_function, clear_function, set_function): New macros, to combine some of the
# functionality implemented in differnet ways in BFD_ASSEMBLER and non-... code.
# Used in other functions that used to check function_lineoff &c.
# (obj_emit_lineno): Split into two copies, one for BFD_ASSEMBLER, one for not.
# Non-BFD_ASSEMBLER version now has temporary variable to contain char* pointer
# pointed to by char** argument.  Always follow CROSS_COMPILE code; easier to
# read that way.
# (obj_coff_ln): Don't call add_lineno or c_line_new if appline is set.
# (obj_coff_endef) [BFD_ASSEMBLER]: Don't do anything special for ".bf", it's
# been done elsewhere.
# (coff_frob_symbol): If ilne number data is pending, call add_linesym to flush it.
# (coff_frob_file): Don't do that here.
# * config/obj-coff.h (coff_frob_file): Declare.
# (obj_frob_file): Define, to call it.
#
# * config/tc-sparc.h (md_create_short_jump, md_create_long_jump,
# md_estimate_size_before_relax: Define them as macros calling as_fatal.
# * config/tc-sparc.c: Don't define them as functions.
#
# Revision 1.22  1993/11/22  06:04:32  law
# Add stabs.c to things-to-keep.
#
# Revision 1.21  1993/11/17  23:23:36  ian
# New files for ECOFF debugging split out of config/obj-ecoff.c.
#
# Revision 1.20  1993/06/04  23:06:28  raeburn
# clean v9 stuff out of configure.in
#
# Revision 1.19  1993/05/27  06:21:49  rich
# added things-to-lose sections
#
# Revision 1.18  1993/05/17  19:35:50  raeburn
# don't keep testscripts subdir
#
# Revision 1.17  1993/04/22  06:39:01  raeburn
# version.c is gone
#
# Revision 1.16  1993/03/29  13:26:44  raeburn
# First crack at a test suite.
#
# Revision 1.15  1993/02/13  10:12:16  zoo
# removing excess verbosity
#
# Revision 1.14  1993/01/08  14:40:59  raeburn
# keep config-gas.com.
# if purging v9, discard ChangeLog.v9, keep otherwise.
#
# Revision 1.13  1992/12/08  08:05:32  raeburn
# updated for added/deleted files
#
# Revision 1.12  1992/07/28  18:58:12  gumby
# Don't save obsolete/
#
# Revision 1.11  1992/03/13  16:04:15  sac
# Fri Mar 13 08:03:03 1992  Steve Chamberlain  (sac@thepub.cygnus.com)
#
# 	* flonum-const.c: renamed flonum-konst.c to stop dos name
# 	conflict.
#
# Revision 1.10  1992/02/22  20:44:46  sac
# 	* app.c: MRI compatibility - allow single quote to start a string.
# 	* as.c: fix typo recently introduced.
# 	* as.h : Don't include aout/reloc.h - it's not right for COFF!
# 	* expr.c: Much rewriting, to accomodate MRI syntax for
# 	expressions. Also easier to read now.
# 	* listing.c: Put back defuns
# 	* read.c: modified to accept MRI syntax, put back listing pseudo
# 	ops so that an assembler built with NO_LISTING ignores list ops
# 	rather than pukes.
# 	* write.c, write.h: fixs - only keep a reloc type in a fix if the target
# 	machine is a SPARC or a 29K.
# 	* config/obj-aout.c: added s_sect pseudo op
# 	* config/obj-coffbfd.c: lints, set the filehdr flags right and
# 	fill in the timestamp.
# 	* config/obj-coffbfd.h: Since we don't include aout/reloc.h
# 	anymore, define all the relocs which the tc-<x> bit will use so we
# 	can translate from them to the coff types.
# 	* config/tc-a29k.c: reloc_type isn't ane enum any more
# 	* config/tc-m68k.c: Added NO_RELOC definition.
#
# Now compiles for sparc aout, 68k aout (MRI and MIT syntax),
# 29k coff.
#
# So far works as replacement for sparc and 68k /bin/as.
#
# Revision 1.9  1992/02/17  15:52:52  rich
# fighting bitrot in a major way
#
# Revision 1.8  1992/02/14  00:21:34  pesch
# It's OK to keep the doc subdirectory, really.
#
# Revision 1.7  1992/02/13  10:13:19  rich
# clean up Sanitize for gas
#
# Revision 1.6  1992/01/17  20:54:32  rich
# keep listing*
#
# Revision 1.5  1991/12/12  03:28:12  sac
# Added makefile.dos configure.dos
#
# Revision 1.4  1991/12/09  11:58:44  tiemann
# Keep a.out.gnu.h.
#
# Revision 1.3  1991/10/10  11:58:04  rich
# updating
#
# Revision 1.2  1991/09/02  01:05:04  rich
# Correcting some things.
#
# Revision 1.1  1991/05/23  17:18:12  rich
# Initial revision
#
#
#

# End of file.
