# This file is a shell script fragment that supplies the information
# necessary to tailor a template configure script into the configure
# script appropriate for this directory.  For more information, check
# any existing configure script.

configdirs="autoconf libgcc mmalloc libiberty texinfo opcodes bfd binutils byacc bison flex gcc readline glob ld gas gdb emacs ispell make grep diff rcs cvs patch send_pr libg++ newlib gprof gdbtest libm tgas "
srctrigger=cfg-paper.texi
srcname="gnu development package"

# per-host:

# XXX - FIXME there needs to be a case for mh_dgux

case "${host_os}" in
aix*)		host_makefile_frag=config/mh-aix ;;
m88kbcs)	host_makefile_frag=config/mh-delta88;;
sysv4*)		host_makefile_frag=config/mh-sysv4 ;;
solaris*)	host_makefile_frag=config/mh-solaris ;;
sysv* | irix3)	host_makefile_frag=config/mh-sysv ;;
sco*)		host_makefile_frag=config/mh-sco ;;
irix4)		host_makefile_frag=config/mh-irix4 ;;
linux)		host_makefile_frag=config/mh-linux ;;
hpux)		host_makefile_frag=config/mh-hpux ;;
ultrix*)
	case "${host_cpu}" in
	mips)	host_makefile_frag=config/mh-decstation ;;
	esac
esac

case "${host_vendor}" in
apollo*)	case "${host_cpu}" in
		m68k*)
			case "${host_os}" in
			sysv*) host_makefile_frag=config/mh-apollo68 ;;
			bsd*) host_makefile_frag=config/mh-a68bsd ;;
			esac;;
		esac ;;
ncr*)		case "${host_os}" in
		sysv4*) host_makefile_frag=config/mh-ncr3000 ;;
		esac ;;
			
esac

# per-target:

bfd_target=

case "${target_vendor}" in
amd)
	case "${target_os}" in
		ebmon) 	bfd_target="ebmon29k" 
			;;
		udi) 	bfd_target="udi29k" 
			;;
		*) echo "bad target_os for amd"	1>&2
			;;
	esac
	;;
ericsson)
	case "${target_alias}" in
		OSE68000 | ose68000)
			bfd_target="ose68000"
			;;
		OSE68k | ose68k)
			bfd_target="ose68k"
			;;
		*)
			bfd_target=${target-alias}
			;;
	esac
	;;
*)
	bfd_target=${target_alias}
	;;
esac

# remove various programs from consideration, if this is a cross-compiler 
# (host != target) build, AND if the host is one that has a
# "native" environment that we support

if [ x"${host}" = x"${target}" ] ; then
         configdirs=`echo ${configdirs} | sed -e 's/newlib//'`
else
	true
fi	

# remove various programs from consideration, based on the host or 
# target this usually means that a port of the program doesn't
# exist yet.

case "${host}" in
hppa*-*-*)
	configdirs=`echo ${configdirs} | sed -e 's/emacs//'`
	;;
*-*-solaris2)
	configdirs=`echo ${configdirs} | sed -e 's/emacs//'`
	;;
esac

case "${target}" in
mips-*-*)
	configdirs=`echo ${configdirs} | sed -e 's/ld//;s/binutils//;s/gas//'`
	;;
rs6000-*-*)
	configdirs=`echo ${configdirs} | sed -e 's/gas//;s/binutils//;s/ld//;s/libgcc//'`
	;;
hppa*-*-*)
	configdirs=`echo ${configdirs} | sed -e 's/gas//;s/bfd//;s/gdb//;s/binutils//;s/gdbtest//;s/ld//;s/libg++//'`
	;;
*-*-solaris2)
	configdirs=`echo ${configdirs} | sed -e 's/gas//'`
	;;
esac


target_makefile_frag=config/mt-${bfd_target}

#
# Local Variables:
# fill-column: 131
# End:
#

