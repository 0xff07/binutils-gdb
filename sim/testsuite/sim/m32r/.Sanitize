# .Sanitize for devo/sim/testsuite/sim/m32r

# Each directory to survive it's way into a release will need a file
# like this one called "./.Sanitize".  All keyword lines must exist,
# and must exist in the order specified by this file.  Each directory
# in the tree will be processed, top down, in the following order.

# Hash started lines like this one are comments and will be deleted
# before anything else is done.  Blank lines will also be squashed
# out.

# The lines between the "Do-first:" line and the "Things-to-keep:"
# line are executed as a /bin/sh shell script before anything else is
# done in this 

Do-first:

cygnus_files="
bcl24.cgs
bcl8.cgs
bncl24.cgs
bncl8.cgs
bra8-2.cgs
cmpeq.cgs
cmpz.cgs
divh.cgs
jc.cgs
jnc.cgs
maclh1.cgs
maclh1-2.cgs
machi-a.cgs
maclo-a.cgs
macwhi-a.cgs
macwlo-a.cgs
macwu1.cgs
msblo.cgs
mulhi-a.cgs
mullo-a.cgs
mulwhi-a.cgs
mulwlo-a.cgs
mulwu1.cgs
mvfachi-a.cgs
mvfaclo-a.cgs
mvfacmi-a.cgs
mvtachi-a.cgs
mvtaclo-a.cgs
pcmpbz.cgs
rac-dsi.cgs
rach-dsi.cgs
sadd.cgs
sat.cgs
satb.cgs
sath.cgs
sc.cgs
snc.cgs"

if ( echo $* | grep keep\-cygnus > /dev/null ) ; then
	keep_these_too="${cygnus_files} ${keep_these_too}"
else
	lose_these_too="${cygnus_files} ${lose_these_too}"
fi

Things-to-keep:

allinsn.exp
misc.exp
testutils.inc

add.cgs
add3.cgs
addi.cgs
addv.cgs
addv3.cgs
addx.cgs
and.cgs
and3.cgs
bc24.cgs
bc8.cgs
beq.cgs
beqz.cgs
bgez.cgs
bgtz.cgs
bl24.cgs
bl8.cgs
blez.cgs
bltz.cgs
bnc24.cgs
bnc8.cgs
bne.cgs
bnez.cgs
bra24.cgs
bra8.cgs
cmp.cgs
cmpi.cgs
cmpu.cgs
cmpui.cgs
div.cgs
divu.cgs
jl.cgs
jmp.cgs
ld-d.cgs
ld-plus.cgs
ld.cgs
ld24.cgs
ldb-d.cgs
ldb.cgs
ldh-d.cgs
ldh.cgs
ldi16.cgs
ldi8.cgs
ldub-d.cgs
ldub.cgs
lduh-d.cgs
lduh.cgs
lock.cgs
machi.cgs
maclo.cgs
macwhi.cgs
macwlo.cgs
mul.cgs
mulhi.cgs
mullo.cgs
mulwhi.cgs
mulwlo.cgs
mv.cgs
mvfachi.cgs
mvfaclo.cgs
mvfacmi.cgs
mvfc.cgs
mvtachi.cgs
mvtaclo.cgs
mvtc.cgs
neg.cgs
nop.cgs
not.cgs
or.cgs
or3.cgs
rac.cgs
rach.cgs
rem.cgs
remu.cgs
rte.cgs
seth.cgs
sll.cgs
sll3.cgs
slli.cgs
sra.cgs
sra3.cgs
srai.cgs
srl.cgs
srl3.cgs
srli.cgs
st-d.cgs
st-minus.cgs
st-plus.cgs
st.cgs
stb-d.cgs
stb.cgs
sth-d.cgs
sth.cgs
sub.cgs
subv.cgs
subx.cgs
trap.cgs
unlock.cgs
xor.cgs
xor3.cgs

hello.ms
hw-trap.ms
uread16.ms
uread32.ms
uwrite16.ms
uwrite32.ms

Things-to-lose:

Do-last:

cygnus_files="allinsn.exp misc.exp testutils.inc"
if ( echo $* | grep keep\-cygnus > /dev/null ) ; then
	for i in $cygnus_files ; do
		if test ! -d $i && (grep sanitize-cygnus $i > /dev/null) ; then
			if [ -n "${verbose}" ] ; then
				echo Keeping cygnus stuff in $i
			fi
		fi
	done
else
	for i in $cygnus_files ; do
		if test ! -d $i && (grep sanitize-cygnus $i > /dev/null) ; then
			if [ -n "${verbose}" ] ; then
				echo Removing traces of \"cygnus\" from $i...
			fi
			cp $i new
			sed '/start\-sanitize\-cygnus/,/end-\sanitize\-cygnus/d' < $i > new
			if [ -n "${safe}" -a ! -f .Recover/$i ] ; then
				if [ -n "${verbose}" ] ; then
					echo Caching $i in .Recover...
				fi
				mv $i .Recover
			fi
			mv new $i
		fi
	done
	# Remove cygnus from `mach'.
	for i in *.cgs ; do
		if [ -n "${verbose}" ] ; then
			echo Removing traces of \"cygnus\" from $i...
		fi
		cp $i new
		sed -e 's/cygnus//' < $i > new
		if [ -n "${safe}" -a ! -f .Recover/$i ] ; then
			if [ -n "${verbose}" ] ; then
				echo Caching $i in .Recover...
			fi
			mv $i .Recover
		fi
		mv new $i
	done
fi

# End of file.
