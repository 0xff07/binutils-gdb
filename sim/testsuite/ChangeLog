start-sanitize-sky
1998-12-31  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/t-cop2.s: Adjust vmtir instruction tests for new syntax.
	* sim/sky/t-cop2.vuexpect: Matching changes.

1998-12-30  Felix Lee  <flee@cygnus.com>
 
	* sim/sky/sky-defs.tcl: various changes for remote host testing.
	* sim/sky/mload.exp: ditto.
	* sim/sky/sky_sce.exp: ditto.
	* sim/sky/sky_sce_accurate.exp: ditto.
	* sim/sky/sky_sce_fast.exp: ditto.

	* sim/sky/mload.exp: mark as unresolved on error.

end-sanitize-sky
Fri Dec 18 17:19:34 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/ldres.cgs: New testcase.
	* sim/fr30/copld.cgs: New testcase.
	* sim/fr30/copst.cgs: New testcase.
	* sim/fr30/copsv.cgs: New testcase.
	* sim/fr30/nop.cgs: New testcase.
	* sim/fr30/andccr.cgs: New testcase.
	* sim/fr30/orccr.cgs: New testcase.
	* sim/fr30/addsp.cgs: New testcase.
	* sim/fr30/stilm.cgs: New testcase.
	* sim/fr30/extsb.cgs: New testcase.
	* sim/fr30/extub.cgs: New testcase.
	* sim/fr30/extsh.cgs: New testcase.
	* sim/fr30/extuh.cgs: New testcase.
	* sim/fr30/enter.cgs: New testcase.
	* sim/fr30/leave.cgs: New testcase.
	* sim/fr30/xchb.cgs: New testcase.
	* sim/fr30/dmovb.cgs: New testcase.
	* sim/fr30/dmov.cgs: New testcase.
	* sim/fr30/dmovh.cgs: New testcase.

Thu Dec 17 17:18:43 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/testutils.inc (take_branch{_d},no_branch{_d}): New macros.
	* sim/fr30/ret.cgs: Add tests fir ret:d.
	* sim/fr30/inte.cgs: New testcase.
	* sim/fr30/reti.cgs: New testcase.
	* sim/fr30/bra.cgs: New testcase.
	* sim/fr30/bno.cgs: New testcase.
	* sim/fr30/beq.cgs: New testcase.
	* sim/fr30/bne.cgs: New testcase.
	* sim/fr30/bc.cgs: New testcase.
	* sim/fr30/bnc.cgs: New testcase.
	* sim/fr30/bn.cgs: New testcase.
	* sim/fr30/bp.cgs: New testcase.
	* sim/fr30/bv.cgs: New testcase.
	* sim/fr30/bnv.cgs: New testcase.
	* sim/fr30/blt.cgs: New testcase.
	* sim/fr30/bge.cgs: New testcase.
	* sim/fr30/ble.cgs: New testcase.
	* sim/fr30/bgt.cgs: New testcase.
	* sim/fr30/bls.cgs: New testcase.
	* sim/fr30/bhi.cgs: New testcase.

start-sanitize-sky
Thu Dec 17 13:28:06 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/sce_test12.vuasm: Update syntax of MTIR insn.
	* sim/sky/sce_test14.vuasm: Ditto.
	* sim/sky/sce_test16.vuasm: Ditto.
	* sim/sky/sce_test18.vuasm: Ditto.
	* sim/sky/sce_test20.vuasm: Ditto.
	* sim/sky/sce_test22.vuasm: Ditto.
	* sim/sky/sce_test24.vuasm: Ditto.
	* sim/sky/sce_test26.vuasm: Ditto.
	* sim/sky/sce_test28.vuasm: Ditto.
	* sim/sky/sce_test30.vuasm: Ditto.
	* sim/sky/sce_test32.vuasm: Ditto.
	* sim/sky/sce_test34.vuasm: Ditto.
	* sim/sky/sce_test47.vuasm: Ditto.

end-sanitize-sky
Tue Dec 15 17:47:13 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/div.cgs (int): Add signed division scenario.
	* sim/fr30/int.cgs (int): Complete testcase.
	* sim/fr30/testutils.inc (_start): Initialize tbr.
	(test_s_user,test_s_system,set_i,test_i): New macros.

1998-12-14  Doug Evans  <devans@casey.cygnus.com>

	* lib/sim-defs.exp (run_sim_test): New option xerror, for expected
	errors.  Translate \n sequences in expected output to newline char.
	(slurp_options): Make parentheses optional.
	(sim_run): Look for board_info sim,options.
	* sim/fr30/hello.ms: Add trailing \n to expected output.
	* sim/m32r/hello.ms: Ditto.
	* sim/m32r/hw-trap.ms: Ditto.

	* sim/m32r/trap.cgs: Properly align trap2_handler.

	* sim/m32r/uread16.ms: New testcase.
	* sim/m32r/uread32.ms: New testcase.
	* sim/m32r/uwrite16.ms: New testcase.
	* sim/m32r/uwrite32.ms: New testcase.

1998-12-14  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/call.cgs: Test ret here as well.
	* sim/fr30/ld.cgs: Remove bogus comment.
	* sim/fr30/testutils.inc (save_rp,restore_rp): New macros.
	* sim/fr30/div.ms: New testcase.
	* sim/fr30/st.cgs: New testcase.
	* sim/fr30/sth.cgs: New testcase.
	* sim/fr30/stb.cgs: New testcase.
	* sim/fr30/mov.cgs: New testcase.
	* sim/fr30/jmp.cgs: New testcase.
	* sim/fr30/ret.cgs: New testcase.
	* sim/fr30/int.cgs: New testcase.

Thu Dec 10 18:46:25 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/div0s.cgs: New testcase.
	* sim/fr30/div0u.cgs: New testcase.
	* sim/fr30/div1.cgs: New testcase.
	* sim/fr30/div2.cgs: New testcase.
	* sim/fr30/div3.cgs: New testcase.
	* sim/fr30/div4s.cgs: New testcase.
	* sim/fr30/testutils.inc (mvi_h_dr,set_dbits,test_dbits): New Macros.

Tue Dec  8 13:16:53 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/testutils.inc (set_s_user): Correct Mask.
	(set_s_system): Correct Mask.
	* sim/fr30/ld.cgs (ld): Move previously failing test back
	into place.
	* sim/fr30/ldm0.cgs: New testcase.
	* sim/fr30/ldm1.cgs: New testcase.
	* sim/fr30/stm0.cgs: New testcase.
	* sim/fr30/stm1.cgs: New testcase.

Thu Dec  3 14:20:03 1998  Dave Brolley  <brolley@cygnus.com>

	* sim/fr30/ld.cgs: Implement more loads.
	* sim/fr30/call.cgs: New testcase.
	* sim/fr30/testutils.inc (testr_h_dr): New macro.
	(set_s_user,set_s_system): New macros.

	* sim/fr30: New Directory.

Wed Nov 18 10:50:19 1998  Andrew Cagney  <cagney@b1.cygnus.com>

	* common/bits-gen.c (main): Add BYTE_ORDER so that it matches
 	recent sim/common/sim-basics.h changes.
	* common/Makefile.in: Update.
	
Fri Oct 30 00:37:31 1998  Felix Lee  <flee@cygnus.com>

	* lib/sim-defs.exp (sim_run): download target program to remote
 	host, if necessary.  for unix-driven win32 testing.

start-sanitize-sky
Thu Oct 29 14:10:22 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/sky-defs.tcl: xfail certain tests due to changes in
 	constant value of VU register VF00yz.

Tue Oct 13 13:01:24 EDT 1998 Frank Ch. Eigler <fche@cygnus.com>

	* sim/sky/t-cop2.*: Update tests for VRNEXT and VRGET
	instructions, to match corrected operand synatx.

Wed Sep 23 12:05:11 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (*): Converted some perl constructs to use
 	only perl 4 features.  Remove junk whitespace before calling split()
	for compatibility.

Fri Sep 18 15:16:56 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/vu01reg-main.c (validate_ctrl): Only test bits of
	statusflag that we're allowed to set.
	* sim/sky/vu01reg.dvpasm (vumain1_ctrl): Set statusflag to 0xa80.

Fri Sep 18 14:52:00 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): Convert incoming .float
	constants to .word in perl to avoid gas processing.

Fri Sep 18 13:16:21 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/t-dma.dmaexpect: Modified last line to expect that
	DMA_Dn_CHCR__DIR be set to "1".  Change required because of pr17171.

Thu Sep 17 17:30:42 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): Handle DC.F construct
	in parallel with lower VU insn.

Wed Sep 16 15:12:38 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/sce_main.c (DMA_Dn_CHCR__{STR,TTE,MODE}: cleanup.

Tue Sep 15 17:32:29 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): Support data segment
	label addresses for ADDI instruction.

Tue Sep 15 09:56:59 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/rw-vureg.c: Check that attempts to overwrite constant
	 VU registers (VF0, VI0) are futile.

	* sim/sky/sky-defs.tcl (run_l2s_test): Clean up all files left
	behind by level2_gen.pl for passing level-2 test cases.

	* sim/sky/t-cop2.vuexpect: Update to match slightly changed
	disassembly format from sky-libvpe.

Tue Sep 15 01:08:40 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/vu01reg-main.c: Test vu1 control reg access.
	* sim/sky/vu01reg.dvpasm: Ditto.

Mon Sep 14 20:30:34 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/dma.h (DMA_Dn_CHCR__{STR,TTE,MODE}: cleanup.
	* sim/sky/vu01reg-main.c: as above
	* sim/sky/vureloc-main.c: as above
	* sim/sky/t-int.c: Change setting of DMA DIRection flag.

Mon Sep 14 15:33:15 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/dma.h (DMA_Dn_CHCR__{START,TIE,MODE}): New macros.
	(DMA_Dn_CHCR__{MODE_NORM,MODE_CHAIN,DIR}): New macros.
	* sim/sky/vu01reg-main.c: Specify DMA_Dn_CHCR__DIR.
	* sim/sky/vureloc.c: Specify DMA_Dn_CHCR__DIR.
	* sim/sky/sce_main.c: DMA_Dn_CHCR__START renamed from ...__DMA_START.

	* sim/sky/sky-defs.tcl (run_trc_test): Save old timeout before
	clobbering it.
	(run_brn_test): Set default timeout of 500 seconds.

end-sanitize-sky
Tue Sep 15 14:56:22 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/testutils.inc (test_h_gr): Use mvaddr_h_gr.
	* sim/m32r/rte.cgs: Test bbpc,bbpsw.
	* sim/m32r/trap.cgs: Test bbpc,bbpsw.

start-sanitize-sky
Wed Sep  9 14:42:24 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/pr17191.s: New file.
	* sim/sky/pr17191.brn: New file.
	* sim/sky/t-macros.inc: New file.

Tue Sep 8 18:33:04 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/sce_main.c: PR17171: DMA_Dn_CHCR__DIR was not specified.
	* sim/sky/t_dma.c: PR17171: DMA_Dn_CHCR__DIR was not specified.

Thu Sep 3 10:27:04 EDT 1998 Frank Ch. Eigler <fche@cygnus.com>

	* sim/sky/level2.exp: Renamed back.
	* sim/sky/sky-defs.tcl: Increased level-2 timeouts.
	* sim/sky/level2_gen.pl: Use two passes to process incoming
	assembly.  Keep temporary files temporarily.

Mon Aug 24 16:23:29 1998  Jillian Ye <jillian@cygnus.com>

        * sim/sky/level2.exp:  temporally renamed it to level2.test

Thu Aug 20 14:29:29 1998  Patrick Macdonald  <patrickm@cygnus.com>

	* sim/sky/t-gs.[trc|gsexpect]: new address modifications
	
Thu Aug 20 10:50:15 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/refresh.dvpasm: change refreshe to refresha.

Wed Aug 19 11:42:00 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/sky.exp: Disable these tests for target vpu-elf
	(mips64el-skyb-elf).

Tue Aug 18 17:31:30 1998  Jillian <jillian@cygnus.com>

        * sim/sky/[sky_sce scky_sce_accurate].exp:
        Allow for the test of sce2_test*.dvpasm.
        * fast_gs/sce2_test*.gsout: Add expected gs output
        for the sce2_test cases.

Tue Aug 18 17:27:10 1998 Jillian Ye <jillian@cygnus.com>
     
        * sim/sky/fast_gs/sce2_test11.gsout: added file.

Thu Aug 13 15:08:19 1998  Doug Evans  <devans@canuck.cygnus.com>

	Add skyb support.
	* sim/sky/*.dvpasm: Replace .section with section.
	* sim/sky/sce_macros.s (section): New macro.
	* sim/sky/sky-defs.tcl (run_brn_test): Handle test_on_skyb_p.
	Pass -no-dma --defsym skyb_p=1 if skyb to dvp gas.  Otherwise pass
	--defsym skyb_p=0 to dvp gas.
	* sim/sky/sky_sce.exp: Don't compile sce_main.c if skyb.
	* sim/sky/sky_sce_accurate.exp: Ditto.
	* sim/sky/t-cop2.brn: Don't run if skyb.
	* sim/sky/t-cop2b.brn: Ditto.
	* sim/sky/t-dma.brn: Ditto.
	* sim/sky/t-int.brn: Ditto.
	* sim/sky/vu01reg.brn: Ditto.
	* sim/sky/vureloc.brn: Ditto.
	* sim/sky/vureloc.dvpasm: Tweak .section usage.
	* sim/sky/refresh.dvpasm: Issue a flushe first if skyb_p.

Tue Aug 11 20:58:43 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/[sky sky_sce scky_sce_accurate].exp:
	Allow for the new target mips64el-skyb-elf.

Tue Aug 11 13:52:56 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/t-int-handler.s: Removed unneeded copy of interrupt
	handler code.  Store CAUSE register value.
	* sim/sky/t-int.c: Store and confirm CAUSE value during interrupt.

Tue Aug 11 13:57:50 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/sky_sce_accurate.exp: increase the timeout value
        from 2000 to 3000

Fri Jul 31 17:49:13 1998  Felix Lee  <flee@cygnus.com>

	* lib/sim-defs.exp (sim_run): remote_spawn, use writeto instead of
 	writeonly.

Thu Jul 30 16:39:37 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/t-cop2.{s,vuexpect}: Test two-operand VCLIP insn. 

Wed Jul 29 16:10:42 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): More similar tweaks.
	* sim/sky/sky-defs.tcl: Force all tests to use vu1, since some test
	cases exhaust vu0 memory resources.

Wed Jul 29 01:06:03 1998  Felix Lee  <flee@cygnus.com>

	* sim/sky/sky-defs.tcl (findperl): new function.  we can't rely on
 	"#!perl" doing the right thing.

end-sanitize-sky
start-sanitize-m32rx
Tue Jul 28 10:04:09 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/mulwhi-a.cgs: New testcase.
	* sim/m32r/mulwlo-a.cgs: New testcase.
	* sim/m32r/macwhi-a.cgs: New testcase.
	* sim/m32r/macwlo-a.cgs: New testcase.

end-sanitize-m32rx
Fri Jul 24 09:40:34 1998  Doug Evans  <devans@canuck.cygnus.com>

	* Makefile.in (clean,mostlyclean): Change leading spaces to a tab.

start-sanitize-sky
Fri Jul 24 19:48:08 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): Add another pattern for
 	classifying data section word vs. float literals.

Thu Jul 23 17:55:48 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl (conv_vuasm): Added new patterns for
 	translating more "level 2" test cases.  Removed some patterns
 	that masked inconsistent assembler specifications.
	(print_section): Use more reliable filtering for objdump results.

Wed Jul 22 16:10:49 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2_gen.pl: Use kseg1 addresses in generated code.
  	Include some regexp tweaks to make more tosh test cases translate.
	* sim/sky/sky-defs.tcl (run_l2s_test): Use sim --float-type
 	accurate and enlarge timeouts.
	
Wed Jul 22 14:39:16 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/mload.exp: New test for multi-phase load.  
	* sim/sky/mload{kern,user}.c: Sample code for test.

Tue Jul 21 18:44:57 1998  Ian Carmichael  <iancarm@cygnus.com>

	* sim/sky/*: Many changes for MMU.  Physical addresses now 
	referenced via kseg1 (0xa00000000) range.

Fri Jul 17 16:53:11 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/level2.exp: New file, driver for VU "level 2" test
 	cases.
	* sim/sky/level2_gen.pl: New file, strange assembler-to-C
	translator.
	* sim/sky/level2/*.s: Many many non-dvp assembler sources.
	* sim/sky/sky-defs.tcl: Learn how to run these sources.
	
	* sim/sky/t-pke3.trc: Test one additional border condition.

Fri Jul 17 13:57:50 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/fast_gs/*: forward fitting sky-980617 branch updates of
        fast_gs.
        * Makefile.in: Ensure make clean cleans off the intermediate files 
        generated by the sky testsuite (*.run, *.c, *.dif, *.*out ).

Thu Jul 2 15:22:29 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/pr16213.[dvpasm|c|brn]: Add a PR test case.

end-sanitize-sky
Wed Jul  1 15:57:54 1998  Doug Evans  <devans@seba.cygnus.com>

	* sim/m32r/hw-trap.ms: New testcase.

start-sanitize-sky
Wed Jun 24 19:09:03 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/t-cop2.vuexpect: Adapt to new disassembly format.

Wed Jun 24 18:28:12 1998  Ian Carmichael  <iancarm@cygnus.com>

	* sim/sky/fast_gs (*.gsout): Replace all files with
	correct results for normal rounding mode ieee math.

Wed Jun 24 18:16:00 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

	* sim/sky/t-int.c, sim/sky/t-int-handler.c:
	Testcase errors: two in the former file, one in the latter.

Wed Jun 24 17:35:00 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

        * Updated sim/sky/t-dma.c: It missed check-in earlier today.

Wed Jun 24 17:12:07 1998  Ian Carmichael  <iancarm@cygnus.com>

	* sim/sky/vu01reg.dvpasm: Fix testcase to handle temporary
	back out of R_MIPS_DVP_11_S4 relocation.

Wed Jun 24 11:24:32 1998  Ian Carmichael  <iancarm@cygnus.com>

	* sim/sky/vu01reg.dvpasm: Change undefined MSCNT 
	instructions to "MSCAL 0".

Wed Jun 24 11:34:00 EDT 1998  Jim Lemke  <jlemke@cygnus.com>

        * Updated sim/sky/t-dma.{brn|dmaexpect} because a
	warning msg being checked for contains an address
	that differs between -mhard-float and -msoft-float.

Fri Jun 19 17:57:50 1998 Jillian Ye <jillian@cygnus.com>
        
        * Created sim/sky/fast_gs and sim/sky/accurate_gs
	for storing the gs output file for float-type fast
	and accurate respectively; also added and moved
	files for this purpose.

Thu Jun 18 23:53:43 1998  Doug Evans  <devans@seba.cygnus.com>

	* sim/sky/vureloc{.brn,-main.c,.dvpasm}: New files.

Tue Jun 16 18:39:32 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/sky-defs.tcl: Use --sky-debug option instead of environment
	variable to collect PKE traces.

Tue Jun 16 18:33:37 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/sky_sce.exp: Removing sce2* and adding comments. 
	* sim/sky/sky_sce_fast.exp: Removing diff, sce2, and adding
	  comments.

Tue Jun 16 15:44:01 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/sky-defs.tcl: passing timeout option to sim_run
	* lib/sim-defs.exp    : Print out timeout setting info when "-v" is used.

Tue Jun 16 09:03:37 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* t-cop2.s: Reorder instruction blocks to prevent "Out of bounds"
	messages during test execution.  Added dummy branch labels for BC2*
 	instructions.
	* t-cop2.brn: Use --sky-debug option instead of env var.
	* t-cop2.vuexpect: Updated for with new disassembly format.
	
	* sky_sce_fast.exp: Don't compare GIF outputs for
 	--float-type=fast.
	* sce_test{17,33,49}.dvpasm: Use ".DmaPackVif 1" option to
	exercise assembler / PKE.
	
	* rw-vureg.c: Cast memcpy operand to allay warning.

Mon Jun 15 15:34:10 1998 Frank Ch. Eigler <fche@cygnus.com>

	* sim/sky/sky_sce_fast.exp: New file for fast floating point mode of
	SCEI test cases.

Tue Jun 12 16:20:30 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/sky_sce.exp: Set the timeout for the sce visual testcases
	  to be 2000 sec (clock time). 
        * sim/sky/sky-defs.tcl: Accept the timeout set in brn file
	  by sky_sce.exp for the duration of the test, and restore
	  the original value after the test is done.

Thu Jun 11 15:24:53 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/vu01reg-main.c: New file.
	* sim/sky/vu01reg.dvpasm: New file.
	* sim/sky/vu01reg.brn: New file.

	* sim/sky/vu.h (VU0_MEM1_WINDOW_START): New macro.
	(VU0_MEM1_SIZE): New macro.

	* lib/sim-defs.exp (sim_run): Argument env_vals renamed to options,
	which is now a list of options controlling the behaviour of sim_run.

	* sim/sky/sky-defs.tcl (run_brn_test): Fix `options' arg to
	sim_compile.  Fix handling of dvpasm_flags.
	(run_trc_test): Update to new way of environment variables to sim_run.

Wed Jun 10 15:56:10 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/t-int.c: New file to test sky hardware
	interrupts.
	* sim/sky/t-int-handler.s: New file for null interrupt
	handler.
	* sim/sky/t-int.brn: New file to build new test.

end-sanitize-sky
Wed Jun 10 10:53:20 1998  Doug Evans  <devans@seba.cygnus.com>

	* sim/m32r/addx.cgs: Add another test.
	* sim/m32r/jmp.cgs: Add another test.
start-sanitize-m32rx
	* sim/m32r/bra8-2.cgs: New testcase.
	* sim/m32r/hello.ms: Run on m32rx too.
end-sanitize-m32rx

start-sanitize-sky
Tue Jun  9 16:30:16 1998 Jillian Ye <jillian@cygnus.com>

        * sky_sce.exp: Added the "diff -bitw" clause,
          and turn on the "--enable-gs", "--float-type" options.

Tue Jun  9 08:55:05 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/dma.h: New file.
	* sim/sky/vif.h: New file.
	* sim/sky/vu.h: New file.
	* sim/sky/sce_main.c: Move magic numbers to .h files.

end-sanitize-sky
Mon Jun  8 16:08:27 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/trap.cgs: Test trap 2.

start-sanitize-sky
Fri Jun 03 11:22:33 1998  Patrick Macdonald <patrickm@cygnus.com>

	* sim/sky/t-gif4.[trc|gifexpect]: additional test for a PATH3
	  pause 
	* sim/sky/t-gif6.[trc|gifexpect]: additional test for IMT ( non
	  multiple of 8)

end-sanitize-sky  	   
Mon Jun  1 18:54:22 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* lib/sim-defs.exp (sim_run): Add possible environment variable
 	list to simulator run.
start-sanitize-sky
	* sim/sky/sky-defs.tcl: Use it.
	
	* sim/sky/t-pke2.vif1out: Update to match recent word-precise
 	tracking table change in sim/mips/sky-pke.c.
	* sim/sky/t-pke3.trc: Ditto.
	* sim/sky/t-pke4.vif0expect: Ditto.
end-sanitize-sky	

Thu May 28 14:59:46 1998 Jillian Ye <jillian@cygnus.com>

        * Makefile.in: Take RUNTEST out of FLAG_TO_PASS
                       so that make check can be invoked recursively.

start-sanitize-sky
Thu May 21 11:45:50 1998  Patrick Macdonald <patrickm@cygnus.com>

	* sim/sky/t-gif6.trc: IMT burst testcases
	* sim/sky/t-gif6.gifexpect: IMT burst expected results
	
Wed May 20 18:10:28 1998 Jillian Ye <jillian@cygnus.com>

        * sim/sky/c_gen.pl: Added subroutine "print_comment"
                    and on/off option for "src line #"

Mon May 18 10:37:47 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/sky/sky.ld: Delete file.

end-sanitize-sky
Thu May 14 11:48:35 1998  Doug Evans  <devans@canuck.cygnus.com>

	* config/default.exp (CC,SIM): Delete.
start-sanitize-sky
	* sim/sky/sky-defs.tcl (LDSCRIPT,SIM): Delete.
	(run_trc_test): Use sim_compile, sim_run.  Only delete temp files
	if testcase passed.
	(run_brn_test): Ditto.
	* sim/sky/sky.exp: Add runtest_file_p support.  Don't print
	unsupported message if not sky.
	* sim/sky/sky_sce.exp: Likewise.
end-sanitize-sky

	* lib/sim-defs.exp (sim_run): Fix handling of output redirection.
	New arg prog_opts.  All callers updated.

Fri May  8 18:10:28 1998  Jillian Ye <jillian@cygnus.com>

	* Makefile.in: Made "check" the target of two
          dependencies (test1, test2) so that test2 get a chance to 
          run even when test1 failed if "make -k check" is used.

Fri May  8 14:41:28 1998  Doug Evans  <devans@canuck.cygnus.com>

	* lib/sim-defs.exp (sim_version): Simplify.
	(sim_run): Implement.
	(run_sim_test): Use sim_run.
	(sim_compile): New proc.

start-sanitize-sky
Thu May  7 12:30:59 1998  Patrick Macdonald <patrickm@cygnus.com>

	* sim/sky/sky-defs.tcl: add handling for gifexpect and gsexpect
	* sim/sky/t-gif*.trc: GIF unit test cases
	* sim/sky/t-gif*.gifexpect: GIF unit test expected results
	* sim/sky/t-gs.trc: GS unit test case
	* sim/sky/t-gs.gsexpect: GS unit test case expected result
	 
Mon May  4 17:49:56 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* sim/sky/sky-defs.tcl: New file, common dejagnu routine definitions.
	* sim/sky/sky.exp: New file, quick dejagnu test driver.
	* sim/sky/sky_sce.exp: New file, SCE dejagnu test driver.
	* sim/sky/*.brn: New files, test fragment descriptions.
	* sim/sky/OTHERS: Old test cases from sim/testsuite/sky.

end-sanitize-sky
Mon May  4 17:59:11 1998  Frank Ch. Eigler  <fche@cygnus.com>

start-sanitize-sky
	* configure.in (testdir): Don't use old sky test directory.
	* configure: Regenerated
	* sky/Makefile.in: swallow stderr on buggy tests
end-sanitize-sky
	* config/default.exp: Added C compiler settings.

Wed Apr 22 12:26:28 1998  Doug Evans  <devans@canuck.cygnus.com>

	* Makefile.in (TARGET_FLAGS_TO_PASS): Delete LIBS, LDFLAGS.

Tue Apr 21 10:49:03 1998  Doug Evans  <devans@canuck.cygnus.com>

	* lib/sim-defs.exp (run_sim_test): Don't exit early if one mach fails,
	try all machs.

	* sim/m32r/addx.cgs: Test (-1)+(-1)+1.

Fri Apr 17 16:00:52 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/mv[ft]achi.cgs: Fix expected result
	(sign extension of top 8 bits).
start-sanitize-m32rx
	* sim/m32r/mv[ft]achi-a.cgs: Ditto.
end-sanitize-m32rx

start-sanitize-m32rx
Tue Apr 14 14:06:34 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/maclh1.cgs: Fix testcase.
	* sim/m32r/maclh1-2.cgs: New testcase.

Tue Mar  3 19:09:09 1998  Doug Evans  <devans@canuck.cygnus.com>

	* sim/m32r/sat.cgs: Change sath to sat.

end-sanitize-m32rx
Wed Feb 25 11:01:17 1998  Doug Evans  <devans@canuck.cygnus.com>

	* Makefile.in (RUNTEST): Fix path to runtest.

start-sanitize-sky
Tue Feb 24 19:47:56 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* configure.in (testdir): Added sky subdir for mips64r5900-sky-elf
 	target.  
	* configure: Regenerate.
end-sanitize-sky
	
Fri Feb 20 11:00:02 1998  Nick Clifton  <nickc@cygnus.com>

	* sim/m32r/unlock.cgs: Fixed test.
	* sim/m32r/mvfc.cgs: Fixed test.
	* sim/m32r/remu.cgs: Fixed test.

	* sim/m32r/bnc24.cgs: Test long BNC instruction.
	* sim/m32r/bnc8.cgs: Test short BNC instruction.
	* sim/m32r/ld-plus.cgs: Test LD instruction.
	* sim/m32r/macwhi.cgs: Test MACWHI instruction.
	* sim/m32r/macwlo.cgs: Test MACWLO instruction.
	* sim/m32r/mulwhi.cgs: Test MULWHI instruction.
	* sim/m32r/mulwlo.cgs: Test MULWLO instruction.
	* sim/m32r/mvfachi.cgs: Test MVFACHI instruction.
	* sim/m32r/mvfaclo.cgs: Test MVFACLO instruction.
	* sim/m32r/mvtaclo.cgs: Test MVTACLO instruction.
	* sim/m32r/addv.cgs: Test ADDV instruction.
	* sim/m32r/addv3.cgs: Test ADDV3 instruction.
	* sim/m32r/addx.cgs: Test ADDX instruction.
	* sim/m32r/lock.cgs: Test LOCK instruction.
	* sim/m32r/neg.cgs: Test NEG instruction.
	* sim/m32r/not.cgs: Test NOT instruction.
	* sim/m32r/unlock.cgs: Test UNLOCK instruction.
start-sanitize-m32rx
	* sim/m32r/mvfachi-a.cgs: Test extended MVFACHI instruction.
	* sim/m32r/mvfaclo-a.cgs: Test extended MVFACLO instruction.
	* sim/m32r/mvtachi-a.cgs: Test extended MVTACHI instruction.
	* sim/m32r/mvtaclo-a.cgs: Test extended MVTACLO instruction.
end-sanitize-m32rx
Thu Feb 19 11:15:45 1998  Nick Clifton  <nickc@cygnus.com>

	* sim/m32r/testutils.inc (mvaddr_h_gr): new macro to load an
	address into a general register.

	* sim/m32r/or3.cgs: Test OR3 instruction.
	* sim/m32r/rach.cgs: Test RACH instruction.
	* sim/m32r/rem.cgs: Test REM instruction.
	* sim/m32r/sub.cgs: Test SUB instruction.
	* sim/m32r/mv.cgs: Test MV instruction.
	* sim/m32r/mul.cgs: Test MUL instruction.
	* sim/m32r/bl24.cgs: Test long BL instruction.
	* sim/m32r/bl8.cgs: Test short BL instruction.
	* sim/m32r/blez.cgs: Test BLEZ instruction.
	* sim/m32r/bltz.cgs: Test BLTZ instruction.
	* sim/m32r/bne.cgs: Test BNE instruction.
	* sim/m32r/bnez.cgs: Test BNEZ instruction.
	* sim/m32r/bra24.cgs: Test long BRA instruction.
	* sim/m32r/bra8.cgs: Test short BRA instruction.
	* sim/m32r/jl.cgs: Test JL instruction.
	* sim/m32r/or.cgs: Test OR instruction.
	* sim/m32r/jmp.cgs: Test JMP instruction.
	* sim/m32r/and.cgs: Test AND instruction.
	* sim/m32r/and3.cgs: Test AND3 instruction.
	* sim/m32r/beq.cgs: Test BEQ instruction.
	* sim/m32r/beqz.cgs: Test BEQZ instruction.
	* sim/m32r/bgez.cgs: Test BGEZ instruction.
	* sim/m32r/bgtz.cgs: Test BGTZ instruction.
	* sim/m32r/cmp.cgs: Test CMP instruction.
	* sim/m32r/cmpi.cgs: Test CMPI instruction.
	* sim/m32r/cmpu.cgs: Test CMPU instruction.
	* sim/m32r/cmpui.cgs: Test CMPUI instruction.
	* sim/m32r/div.cgs: Test DIV instruction.
	* sim/m32r/divu.cgs: Test DIVU instruction.
	* sim/m32r/cmpeq.cgs: Test CMPEQ instruction.
	* sim/m32r/sll.cgs: Test SLL instruction.
	* sim/m32r/sll3.cgs: Test SLL3 instruction.
	* sim/m32r/slli.cgs: Test SLLI instruction.
	* sim/m32r/sra.cgs: Test SRA instruction.
	* sim/m32r/sra3.cgs: Test SRA3 instruction.
	* sim/m32r/srai.cgs: Test SRAI instruction.
	* sim/m32r/srl.cgs: Test SRL instruction.
	* sim/m32r/srl3.cgs: Test SRL3 instruction.
	* sim/m32r/srli.cgs: Test SRLI instruction.
	* sim/m32r/xor3.cgs: Test XOR3 instruction.
	* sim/m32r/xor.cgs: Test XOR instruction.
start-sanitize-m32rx	
	* sim/m32r/jnc.cgs: Test JNC instruction.
	* sim/m32r/jc.cgs: Test JC instruction.
	* sim/m32r/cmpz.cgs: Test CMPZ instruction.
	* sim/m32r/bcl24.cgs: Test long version of BCL instruction
	* sim/m32r/bcl8.cgs: Test short BCL instruction.
	* sim/m32r/bncl24.cgs: Test long BNCL instruction.
	* sim/m32r/bncl8.cgs: Test short BNCL instruction.
	* sim/m32r/divh.cgs: Test DIVH instruction.
	* sim/m32r/rach-dsi.cgs: Test extended RACH instruction.
end-sanitize-m32rx	
Tue Feb 17 12:46:05 1998  Doug Evans  <devans@seba.cygnus.com>

	* config/default.exp: New file.
	* lib/sim-defs.exp: New file.
	* sim/m32r/*: m32r dejagnu simulator testsuite.

	* Makefile.in (build_alias): Define.
	(arch): Define.
	(RUNTEST_FOR_TARGET): Delete.
	(RUNTEST): Fix.
	(check): Depend on site.exp.  Run dejagnu.
	(site.exp): New target.
	* configure.in (arch): Define from target_cpu.
	* configure: Regenerate.

Wed Sep 17 10:21:26 1997  Andrew Cagney  <cagney@b1.cygnus.com>

	* common/bits-gen.c (gen_bit): Pass in the full name of the macro.
	(gen_mask): Ditto.

	* common/bits-tst.c (main): Add tests for LSSEXT, MSSEXT.
	(calc): Add support for 8 bit version of macros.
	(main): Add tests for 8 bit versions of macros.
	(check_sext): Check SEXT of zero clears bits.

	* common/bits-gen.c (main): Generate tests for 8 bit versions of
 	macros.

Thu Sep 11 13:04:40 1997  Andrew Cagney  <cagney@b1.cygnus.com>

	* common/Make-common.in: New file, provide generic rules for
 	running checks.

Mon Sep  1 16:43:55 1997  Andrew Cagney  <cagney@b1.cygnus.com>

	* configure.in (configdirs): Test for the target directory instead
 	of matching on a target.

start-sanitize-r5900
Tue Jul 15 13:43:20 1997  Andrew Cagney  <cagney@sendai.cygnus.com>

	* configure.in (configdirs): Configure mips64vr5900el
 	directory.
	* configure: Regenerate.

end-sanitize-r5900
