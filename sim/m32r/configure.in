dnl Process this file with autoconf to produce a configure script.
sinclude(../common/aclocal.m4)
AC_PREREQ(2.5)dnl
AC_INIT(Makefile.in)

SIM_AC_COMMON

sim_link_files="${sim_link_files} m32r-sim.h ../../opcodes/m32r-opc.h"
sim_link_links="${sim_link_links} cpu-sim.h cpu-opc.h"

SIM_AC_OPTION_ENDIAN(BIG_ENDIAN)
SIM_AC_OPTION_ALIGNMENT(NONSTRICT_ALIGNMENT)
SIM_AC_OPTION_HOSTENDIAN
SIM_AC_OPTION_SCACHE(1024)
SIM_AC_OPTION_DEFAULT_MODEL(m32r/d)
SIM_AC_OPTION_ENVIRONMENT

cgen_maint="#"
# Having --enable-maintainer-mode take arguments is another way to go.
AC_ARG_ENABLE(cgen-maint,
[  --enable-cgen-maint     build cgen generated files],
[case "${enableval}" in
  yes) cgen_maint="" ;;
  no)  ;;
  *)   AC_MSG_ERROR([bad value ${enableval} for simulator cgen-maint option]) ;;
esac])dnl
AC_SUBST(cgen_maint)
if test "x${cgen_maint}" = x ; then
    AC_CHECK_PROG(SCHEME, guile, guile, guile)
fi

SIM_AC_OUTPUT
